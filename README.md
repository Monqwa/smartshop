# SmartShop

**Совместный список покупок в реальном времени**

Приложение позволяет создавать единичный список покупок, добавлять в него товары, отмечать их приобретёнными, редактировать и удалять. Готовым списком можно поделиться через ссылку — другие пользователи получат доступ к тем же данным благодаря long-polling.

---

## Технологический стек

- **Backend:** Golang, Gin, GORM, Viper, Goose (миграции)  
- **Database:** PostgreSQL  
- **Frontend:** Vue.js

---

## Функциональные возможности

- **List & Item**  
  - Создание нового списка (`POST /lists`)  
  - Добавление, редактирование, удаление товаров (`POST /lists/:uuid/items`, `PUT /items/:id`, `DELETE /items/:id`)  
  - Отметка "куплено" (через `isbuy` флаг)  
  - Счётчики: общее число товаров и приобретённых  
  - Шаринг ссылкой: `/lists/{uuid}`  
- **Обновления:** long-polling каждые 1.5с

---

## Установка и запуск

frontend:
cd frontend
npm run dev

backend:
cd backend
go run cmd/main.go


Local: http://localhost:5173/

---

## Процесс проектирования и разработки

1. **Изучение ТЗ и сбор требований** — оценил use case и design features: создание списка, CRUD и для товаров, шаринг.  
2. **Проектирование БД** — созданы две основные модели: `List` и `Item`. Связь one-to-many (`List → Item`), ключи UUID.  
3. **Настройка окружения** — Viper для конфигов и GORM бд, Goose для миграций.  
4. **Реализация миграций** —  `create_list_table`, `create_item_table`, `add_foreign_key_to_items`.  
5. **Модели и Entities** — Go-структуры (`models.go`) и (`entities.go`) для API.  
6. **Хендлеры** — CRUD для `Item`, базовые `Create` и `Update` для `List`.  
7. **Frontend** — форма создания списка и добавления товаров на Vue, реализован long-polling.

---

## Уникальные подходы и методологии

- **Миграции** удобство для разных сред.  
- **Long-polling** упрощает решение realtime синхронизации без WebSocket.  
- **Отказ от User-модели** облегчает UX: не нужно регистрироваться, достаточно скопировать ссылку. на подобие dbdiagram.io

---

## Компромиссы

- Нет модели `User` и аутентификации — требудет обязательное наличие ссылки для доступа к списку.  

---

## Известные ошибки и ограничения

- **Валидация и обработка ошибок** реализованы частично: при ошибках сервера и клиента не всегда будет понятен формат ответа.  
- **Синхронизация** long-polling может давать небольшой лаг (до 1.5 с).  
- **Нет soft-delete**: удалённые записи исчезают.  
- **Отсутствует awareness**: неизвестно сколько еще пользователей одновременно используют список.  
- **Отсутствуют настройки доступа** каждый может делать что хочет со списком.

---

## Почему именно этот стек?

- **Golang**: активно изучаю язык и хочу применять его на практике. компилируемый, быстрый, отлично подходит для высоконагруженных сервисов;   
- **Gin + GORM**: популярыный, минималистичный HTTP-фреймворк и ORM с автогенерацией миграций.  
- **PostgreSQL**: известная мне и часто применяется на практике.  
- **Vue.js**: лёгкий, популярный фреймворк в казахстанских проектах; своя методология (в отличии от React)

---


